# خلاصه به‌روزرسانی قیمت‌ها به تومان

## تغییرات اعمال شده

### 1. ایجاد اسکریپت به‌روزرسانی قیمت
- **فایل**: `scripts/update-prices-to-toman.ts`
- **عملکرد**: تبدیل قیمت‌های دلاری فرضی به قیمت‌های واقعی تومانی
- **دستور**: `npm run update-prices`

### 2. الگوریتم قیمت‌گذاری هوشمند
قیمت‌ها بر اساس فاکتورهای زیر تعیین می‌شوند:

#### قیمت پایه بر اساس ژانر:
- **رمان**: 180,000 - 350,000 تومان
- **رئالیسم جادویی**: 200,000 - 400,000 تومان  
- **داستانی**: 150,000 - 280,000 تومان
- **تمثیلی**: 160,000 - 300,000 تومان
- **خاطرات**: 140,000 - 250,000 تومان
- **سفرنامه**: 120,000 - 220,000 تومان
- **شعر**: 100,000 - 200,000 تومان
- **داستان کوتاه**: 130,000 - 240,000 تومان
- **خودآموز**: 80,000 - 180,000 تومان
- **فانتزی**: 160,000 - 320,000 تومان
- **داستان کودک**: 60,000 - 150,000 تومان

#### ضرایب تعدیل:
- **زبان**: کتاب‌های ترجمه‌ای ×1.2 (20% گران‌تر)
- **سال انتشار**: 
  - 2020+ ×1.15 (15% گران‌تر)
  - 1990- ×0.9 (10% ارزان‌تر)
- **تعداد صفحات**:
  - 500+ صفحه ×1.2 (20% گران‌تر)
  - 150- صفحه ×0.85 (15% ارزان‌تر)
- **محبوبیت**: کتاب‌های hot ×1.1 (10% گران‌تر)
- **امتیاز**: 4.5+ ×1.05 (5% گران‌تر)
- **ناشر معتبر**: ×1.1 (10% گران‌تر)

### 3. نتایج قیمت‌گذاری

#### آمار کلی:
- **تعداد کتاب‌ها**: 48 کتاب
- **حداقل قیمت**: 120,000 تومان
- **حداکثر قیمت**: 500,000 تومان  
- **میانگین قیمت**: 281,458 تومان

#### میانگین قیمت بر اساس زبان:
- **فارسی**: 208,333 تومان (12 کتاب)
- **انگلیسی**: 283,076 تومان (13 کتاب)
- **روسی**: 334,166 تومان (6 کتاب)
- **ژاپنی**: 400,000 تومان (2 کتاب)
- **ترکی**: 465,000 تومان (1 کتاب)
- **اسپانیایی**: 372,500 تومان (2 کتاب)
- **آلمانی**: 255,000 تومان (5 کتاب)
- **فرانسوی**: 273,333 تومان (3 کتاب)
- **پرتغالی**: 315,000 تومان (2 کتاب)
- **سوئدی**: 310,000 تومان (1 کتاب)

### 4. به‌روزرسانی کامپوننت‌ها

#### کامپوننت‌های تغییر یافته:
- **BookCard**: حذف نمایش قیمت (قیمت فقط در صفحه جزئیات نمایش داده می‌شود)
- **BookDetailPage**: صفحه جزئیات کتاب با نمایش قیمت به تومان
- **CartItemCard**: آیتم‌های سبد خرید
- **CheckoutPage**: صفحه پرداخت
- **CategoryStatsCard**: آمار دسته‌بندی‌ها

#### فرمت نمایش قیمت:
- **BookCard**: قیمت حذف شده (فقط عنوان و نویسنده)
- **BookDetailPage**: `280,000 تومان`
- **Cart & Checkout**: `280,000 تومان`

### 5. ویژگی‌های قیمت‌گذاری

#### منطق قیمت‌گذاری:
- ✅ کتاب‌های ترجمه‌ای گران‌تر از کتاب‌های فارسی
- ✅ کتاب‌های جدیدتر گران‌تر از قدیمی‌ها
- ✅ کتاب‌های ضخیم‌تر گران‌تر از نازک‌ها
- ✅ کتاب‌های محبوب و با امتیاز بالا گران‌تر
- ✅ ناشران معتبر قیمت بالاتر
- ✅ رند کردن به نزدیک‌ترین 5,000 تومان

#### واقعی‌گرایی:
- ✅ محدوده قیمت‌های منطقی برای بازار ایران
- ✅ تفکیک قیمت بر اساس ژانر و محتوا
- ✅ در نظر گیری تفاوت قیمت زبان‌های مختلف
- ✅ تأثیر عوامل کیفی بر قیمت

## دستورات اجرا

### اجرای اولیه:
```bash
# Migration اولیه
npm run migrate

# به‌روزرسانی قیمت‌ها
npm run update-prices

# راه‌اندازی سرور
npm run dev
```

### اجرای مجدد به‌روزرسانی قیمت:
```bash
npm run update-prices
```

## نتیجه‌گیری

قیمت‌های کتاب‌ها با موفقیت از سیستم فرضی دلاری به سیستم واقعی تومانی تبدیل شدند. الگوریتم قیمت‌گذاری هوشمند باعث شده قیمت‌ها منطقی و متناسب با ویژگی‌های هر کتاب باشند. 